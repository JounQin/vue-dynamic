/*!
  * vue-dynamic -- Load stringified or normal Vue components dynamically!
  * Version 0.0.6
  *
  * Copyright (C) 2016-present JounQin <admin@1stg.me>
  * Released under the MIT license
  *
  * Github: https://github.com/JounQin/vue-dynamic
  */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Dynamic=n()}(this,function(){"use strict";var s=Array.isArray||function(e){return e instanceof Array},l=function(e){return"function"==typeof e},m=function(e){return null!==e&&"object"==typeof e},n=function(e){"development"===process.env.NODE_ENV&&"function"==typeof console&&console.error(e)},p=function(e){return n("invalid "+e+" will be ignored!")},d=function(e){return n("no "+e+" found thus it will be ignored!")},v=function(e,n,t){var i=e[t];if(m(i)){for(var r={},o=0,u=Object.entries(i);o<u.length;o+=1){var c=u[o],a=c[0],f=c[1];r[a]=l(f)?f:Function[s(f)?"apply":"call"](null,f)}n[t]=r}else if(i)return p(t);return!0},h=function(e,n){if(e){if(m(e))e=function(e){for(var n=[],t=0,i=Object.entries(e);t<i.length;t+=1){var r=i[t],o=r[0],u=r[1];m(u)&&n.push(Object.assign(u,{name:o}))}return n}(e);else if(!s(e))return p("components");if(!e.length)return d("components");var c="",a={},f=0;if(e.forEach(function(e,n){var t=e.name;void 0===t&&(t="_"+n);var i=e.template,r=e.data,o=e.components;if(!i)return d("template");c+="<"+t+"/>";var u=a[t]={template:i};v(e,u,"filters")&&v(e,u,"methods")&&(r&&(u.data=l(r)?r:function(){return Object.assign({},r)}),o&&(u.components=h(o,!0)),f++)}),f)return n?a:{name:"Dynamic--Root",template:1===f?c:"<div>"+c+"</div>",components:a}}};return{name:"vue-dynamic",template:'<comment :is="view"/>',props:{comps:{validator:function(e){return!e||s(e)||m(e)}},emptyView:{required:!0,validator:function(e){return m(e)}}},data:function(){return{view:this.emptyView}},created:function(){this.reBuild()},watch:{comps:function(){this.reBuild()}},methods:{reBuild:function(){var e=h(this.comps);this.view=e||this.emptyView}}}});
