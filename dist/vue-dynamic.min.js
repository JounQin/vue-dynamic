/*!
  * vue-dynamic -- Load stringified or normal Vue components dynamically!
  * Version 0.3.0
  *
  * Copyright (C) 2016-present JounQin <admin@1stg.me>
  * Released under the MIT license
  *
  * Github: https://github.com/JounQin/vue-dynamic
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueDynamic={})}(this,function(e){"use strict";var d=Array.isArray||function(e){return e instanceof Array},p=function(e){return"function"==typeof e},l=function(e){return"[object Object]"===Object.prototype.toString.call(e)},m=function(e,t,n){var i=e[n];if(l(i)){for(var r={},o=0,a=Object.entries(i);o<a.length;o+=1){var u=a[o],c=u[0],f=u[1];r[c]=p(f)?f:Function[d(f)?"apply":"call"](null,f)}t[n]=r}else if(i)return;return!0},v=function(e,u){if(e){if(l(e))e=function(e){for(var t=[],n=0,i=Object.entries(e);n<i.length;n+=1){var r=i[n],o=r[0],a=r[1];l(a)&&t.push(Object.assign(a,{name:o}))}return t}(e);else if(!d(e))return;if(e.length){var c="",f={},s=0;if(e.forEach(function(e,t){var n=e.name;void 0===n&&(n="Dynamic__"+t);var i=e.template,r=e.data,o=e.components;if(i){c+="<"+n+(u?"":' v-on="$parent.$listeners"')+" />";var a=f[n]={template:i};m(e,a,"filters")&&m(e,a,"methods")&&(r&&(a.data=p(r)?r:function(){return Object.assign({},r)}),o&&(a.components=v(o,!0)),s++)}}),s)return u?f:{name:"Dynamic__Root",template:1===s?c:"<div>"+c+"</div>",components:f}}}},n={name:"vue-dynamic",template:'<component :is="view" />',props:{comps:{validator:function(e){return!e||d(e)||l(e)}},emptyView:{required:!0,validator:function(e){return l(e)}}},data:function(){return{view:this.emptyView}},created:function(){this.reBuild()},watch:{comps:function(){this.reBuild()}},methods:{reBuild:function(){var e=v(this.comps);this.view=e||this.emptyView}}},t=function(e,t){return void 0===t&&(t={}),e.component(t.name||"Dynamic",n)};"undefined"!=typeof window&&window.Vue&&window.Vue.use(t);var i=t;e.default=t,e.install=i,e.Dynamic=n,Object.defineProperty(e,"__esModule",{value:!0})});
