/*!
  * vue-dynamic -- Load stringified or normal Vue components dynamically!
  * Version 0.2.1
  *
  * Copyright (C) 2016-present JounQin <admin@1stg.me>
  * Released under the MIT license
  *
  * Github: https://github.com/JounQin/vue-dynamic
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueDynamic={})}(this,function(e){"use strict";var s=Array.isArray||function(e){return e instanceof Array},d=function(e){return"function"==typeof e},m=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,t,n){var i=e[n];if(m(i)){for(var r={},o=0,a=Object.entries(i);o<a.length;o+=1){var u=a[o],c=u[0],f=u[1];r[c]=d(f)?f:Function[s(f)?"apply":"call"](null,f)}t[n]=r}else if(i)return;return!0},l=function(e,t){if(e){if(m(e))e=function(e){for(var t=[],n=0,i=Object.entries(e);n<i.length;n+=1){var r=i[n],o=r[0],a=r[1];m(a)&&t.push(Object.assign(a,{name:o}))}return t}(e);else if(!s(e))return;if(e.length){var u="",c={},f=0;if(e.forEach(function(e,t){var n=e.name;void 0===n&&(n="Dynamic__"+t);var i=e.template,r=e.data,o=e.components;if(i){u+="<"+n+"/>";var a=c[n]={template:i};p(e,a,"filters")&&p(e,a,"methods")&&(r&&(a.data=d(r)?r:function(){return Object.assign({},r)}),o&&(a.components=l(o,!0)),f++)}}),f)return t?c:{name:"Dynamic__Root",template:1===f?u:"<div>"+u+"</div>",components:c}}}},n={name:"vue-dynamic",template:'<comment :is="view"/>',props:{comps:{validator:function(e){return!e||s(e)||m(e)}},emptyView:{required:!0,validator:function(e){return m(e)}}},data:function(){return{view:this.emptyView}},created:function(){this.reBuild()},watch:{comps:function(){this.reBuild()}},methods:{reBuild:function(){var e=l(this.comps);this.view=e||this.emptyView}}},t=function(e,t){return void 0===t&&(t={}),e.component(t.name||"Dynamic",n)};"undefined"!=typeof window&&window.Vue&&window.Vue.use(t);var i=t;e.default=t,e.install=i,e.Dynamic=n,Object.defineProperty(e,"__esModule",{value:!0})});
