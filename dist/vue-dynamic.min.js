/*!
  * vue-dynamic -- Load stringified or normal Vue components dynamically!
  * Version 0.0.6
  *
  * Copyright (C) 2016-present JounQin <admin@1stg.me>
  * Released under the MIT license
  *
  * Github: https://github.com/JounQin/vue-dynamic
  */
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.VueDynamic=e()}(this,function(){"use strict";var s=Array.isArray||function(n){return n instanceof Array},d=function(n){return"function"==typeof n},l=function(n){return null!==n&&"object"==typeof n},e=function(n){"development"===process.env.NODE_ENV&&"function"==typeof console&&console.error(n)},m=function(n){return e("invalid "+n+" will be ignored!")},p=function(n){return e("no "+n+" found thus it will be ignored!")},v=function(n,e,t){var i=n[t];if(l(i)){for(var o={},r=0,u=Object.entries(i);r<u.length;r+=1){var c=u[r],a=c[0],f=c[1];o[a]=d(f)?f:Function[s(f)?"apply":"call"](null,f)}e[t]=o}else if(i)return m(t);return!0},y=function(n,e){if(n){if(l(n))n=function(n){for(var e=[],t=0,i=Object.entries(n);t<i.length;t+=1){var o=i[t],r=o[0],u=o[1];l(u)&&e.push(Object.assign(u,{name:r}))}return e}(n);else if(!s(n))return m("components");if(!n.length)return p("components");var c="",a={},f=0;if(n.forEach(function(n,e){var t=n.name;void 0===t&&(t="_"+e);var i=n.template,o=n.data,r=n.components;if(!i)return p("template");c+="<"+t+"/>";var u=a[t]={template:i};v(n,u,"filters")&&v(n,u,"methods")&&(o&&(u.data=d(o)?o:function(){return Object.assign({},o)}),r&&(u.components=y(r,!0)),f++)}),f)return e?a:{name:"Dynamic--Root",template:1===f?c:"<div>"+c+"</div>",components:a}}},t={name:"vue-dynamic",template:'<comment :is="view"/>',props:{comps:{validator:function(n){return!n||s(n)||l(n)}},emptyView:{required:!0,validator:function(n){return l(n)}}},data:function(){return{view:this.emptyView}},created:function(){this.reBuild()},watch:{comps:function(){this.reBuild()}},methods:{reBuild:function(){var n=y(this.comps);this.view=n||this.emptyView}}},i=!1,n={install:function(n,e){void 0===e&&(e={}),i||(i=!0,n.component(e.name||"Dynamic",t))}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),n});
