/*!
  * vue-dynamic -- Load stringified or normal Vue components dynamically!
  * Version 0.2.0
  *
  * Copyright (C) 2016-present JounQin <admin@1stg.me>
  * Released under the MIT license
  *
  * Github: https://github.com/JounQin/vue-dynamic
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.VueDynamic={})}(this,function(e){"use strict";var s=Array.isArray||function(e){return e instanceof Array},d=function(e){return"function"==typeof e},m=function(e){return"[object Object]"===Object.prototype.toString.call(e)},l=function(e,t,n){var i=e[n];if(m(i)){for(var r={},o=0,a=Object.entries(i);o<a.length;o+=1){var c=a[o],u=c[0],f=c[1];r[u]=d(f)?f:Function[s(f)?"apply":"call"](null,f)}t[n]=r}else if(i)return;return!0},p=function(e,t){if(e){if(m(e))e=function(e){for(var t=[],n=0,i=Object.entries(e);n<i.length;n+=1){var r=i[n],o=r[0],a=r[1];m(a)&&t.push(Object.assign(a,{name:o}))}return t}(e);else if(!s(e))return;if(e.length){var c="",u={},f=0;if(e.forEach(function(e,t){var n=e.name;void 0===n&&(n="Dynamic__"+t);var i=e.template,r=e.data,o=e.components;if(i){c+="<"+n+"/>";var a=u[n]={template:i};l(e,a,"filters")&&l(e,a,"methods")&&(r&&(a.data=d(r)?r:function(){return Object.assign({},r)}),o&&(a.components=p(o,!0)),f++)}}),f)return t?u:{name:"Dynamic__Root",template:1===f?c:"<div>"+c+"</div>",components:u}}}},n={name:"vue-dynamic",template:'<comment :is="view"/>',props:{comps:{validator:function(e){return!e||s(e)||m(e)}},emptyView:{required:!0,validator:function(e){return m(e)}}},data:function(){return{view:this.emptyView}},created:function(){this.reBuild()},watch:{comps:function(){this.reBuild()}},methods:{reBuild:function(){var e=p(this.comps);this.view=e||this.emptyView}}},i=!1,t=function(e,t){void 0===t&&(t={}),i||(i=!0,e.component(t.name||"Dynamic",n))};"undefined"!=typeof window&&window.Vue&&window.Vue.use(t);var r={install:t},o=t;e.default=r,e.install=o,e.Dynamic=n,Object.defineProperty(e,"__esModule",{value:!0})});
